apiVersion: krew.googlecontainertools.github.com/v1alpha2
kind: Plugin
metadata:
  name: prof
spec:
  homepage: https://github.com/josepdcs/kubectl-prof
  shortDescription: Generate CPU profiling graphs and other several outputs as JFR and heap dumps (Java), thread dumps (Java, Python), etc. from pods (Containerd, Cri-o are supported). This is a fork of flame plugin.
  version: "v1.6.0"
  description: |
    Generate CPU profiling graphs and other several outputs as JFR and heap dumps (Java), thread dumps (Java, Python), etc. without restarting pods and with low overhead. Containerd and Cri-o are supported. 
    This is an open source fork of https://github.com/yahoo/kubectl-flame with several new features and bug fixes.
  caveats: |
    Currently supported languages: Go, Java (any JVM based language), Python, Ruby, NodeJS, Clang and Clang++.
  platforms:
    - uri: https://github.com/josepdcs/kubectl-prof/releases/download/1.5.0/kubectl-prof_1.6.0_darwin_amd64.tar.gz
      sha256: 632c6a8e2be7287eb1fb82496372e8dec32b7cf48f522ed71d11011fc3eeb25b
      bin: kubectl-prof
      files:
        - from: kubectl-prof
          to: .
        - from: LICENSE
          to: .
      selector:
        matchLabels:
          os: darwin
          arch: amd64
    - uri: https://github.com/josepdcs/kubectl-prof/releases/download/1.5.0/kubectl-prof_1.6.0_darwin_arm64.tar.gz
      sha256: 5a523a0dee2c8fecc03c1c3bc8eedf165a477e585ff3efacbf9d6110af5c7e65
      bin: kubectl-prof
      files:
        - from: kubectl-prof
          to: .
        - from: LICENSE
          to: .
      selector:
        matchLabels:
          os: darwin
          arch: arm64
    - uri: https://github.com/josepdcs/kubectl-prof/releases/download/1.5.0/kubectl-prof_1.6.0_linux_amd64.tar.gz
      sha256: 30431000ae70e0d36489f908053b00ba57264b660d88ddfe9d8d9c2c21b7990e
      bin: kubectl-prof
      files:
        - from: kubectl-prof
          to: .
        - from: LICENSE
          to: .
      selector:
        matchLabels:
          os: linux
          arch: amd64
    - uri: https://github.com/josepdcs/kubectl-prof/releases/download/1.5.0/kubectl-prof_1.6.0_linux_arm64.tar.gz
      sha256: 2aeebf9c7cab6a6b8506416298d3c2c082f73407c4a0f81fbd7595288a9e7fe8
      bin: kubectl-prof
      files:
        - from: kubectl-prof
          to: .
        - from: LICENSE
          to: .
      selector:
        matchLabels:
          os: linux
          arch: arm64
    - uri: https://github.com/josepdcs/kubectl-prof/releases/download/1.5.0/kubectl-prof_1.6.0_windows_amd64.zip
      sha256: 0f288835d07bb55bdd304e0970f2712134e24a4123b2e5ba1214ba79be68c2d4
      bin: kubectl-prof.exe
      files:
        - from: kubectl-prof.exe
          to: .
        - from: LICENSE
          to: .
      selector:
        matchLabels:
          os: windows
          arch: amd64
    - uri: https://github.com/josepdcs/kubectl-prof/releases/download/1.5.0/kubectl-prof_1.6.0_windows_arm64.zip
      sha256: c85354bfd65eb74c7c6f2d648a7c8bb2bce20f31f272d6b4322f42ec497f2229
      bin: kubectl-prof.exe
      files:
        - from: kubectl-prof.exe
          to: .
        - from: LICENSE
          to: .
      selector:
        matchLabels:
          os: windows
          arch: arm64

